{% extends "layouts/dashboard_base.html" %} {% block title %}Perfil de Usuario{%
endblock %} {% block content %}
<div class="flex">
  {% include "dashboard/components/sidebar.html" %}

  <main class="flex-1 p-8 mx-20">
    <div class="mb-10">
      <h1 class="text-3xl font-bold text-gray-800">Perfil de usuario</h1>
    </div>
    <div class="mx-auto bg-white rounded-2xl shadow-lg p-8 space-y-6">
      <div class="flex items-center justify-between border-b pb-4">
        {% if not edit_mode %}
        <a
          href="/dashboard/settings/profile/edit"
          class="text-blue-600 hover:underline text-sm font-medium"
          >Editar perfil</a
        >
        {% endif %}
      </div>

      {% if edit_mode %}
      <form
        method="patch"
        hx-patch="/dashboard/settings/profile/edit"
        hx-target="#profile-info"
        hx-swap="outerHTML"
        class="space-y-6"
      >
        <div id="profile-info" class="grid grid-cols-1 sm:grid-cols-2 gap-6">
          <div>
            <label class="text-sm text-gray-500 block mb-1"
              >Email (no editable)</label
            >
            <input
              type="email"
              value="{{ user.email }}"
              disabled
              class="w-full border rounded px-3 py-2 bg-gray-100 text-gray-500"
            />
          </div>

          <div>
            <label class="text-sm text-gray-500 block mb-1"
              >Nombre completo</label
            >
            <input
              type="text"
              name="full_name"
              value="{{ user.full_name or '' }}"
              class="w-full border rounded px-3 py-2"
            />
          </div>

          <div>
            <label class="text-sm text-gray-500 block mb-1">Apellidos</label>
            <input
              type="text"
              name="last_name"
              value="{{ user.last_name or '' }}"
              class="w-full border rounded px-3 py-2"
            />
          </div>

          <div>
            <label class="text-sm text-gray-500 block mb-1">Teléfono</label>
            <input
              type="text"
              name="phone_number"
              value="{{ user.phone_number or '' }}"
              class="w-full border rounded px-3 py-2"
            />
          </div>

          <div>
            <label class="text-sm text-gray-500 block mb-1">Empresa</label>
            <input
              type="text"
              name="company"
              value="{{ user.company or '' }}"
              class="w-full border rounded px-3 py-2"
            />
          </div>

          <div>
            <label class="text-sm text-gray-500 block mb-1">Cargo</label>
            <input
              type="text"
              name="job_title"
              value="{{ user.job_title or '' }}"
              class="w-full border rounded px-3 py-2"
            />
          </div>
        </div>

        <div class="flex justify-end gap-3 pt-6 border-t mt-6">
          <a
            href="/dashboard/settings/profile"
            class="inline-flex items-center justify-center rounded-xl border border-gray-300 bg-white px-5 py-2.5 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 transition-colors duration-150"
          >
            Cancelar
          </a>
          <button
            type="submit"
            class="inline-flex items-center justify-center rounded-xl bg-blue-600 px-5 py-2.5 text-sm font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition duration-150"
          >
            Guardar cambios
          </button>
        </div>
      </form>
      {% else %}
      <div class="grid grid-cols-1 sm:grid-cols-2 gap-6 text-gray-700">
        <div>
          <p class="text-sm text-gray-500">Email</p>
          <p class="text-lg font-medium">{{ user.email }}</p>
        </div>

        <div>
          <p class="text-sm text-gray-500">Nombre completo</p>
          <p class="text-lg font-medium">
            {{ user.full_name or 'Sin nombre' }}
          </p>
        </div>

        <div>
          <p class="text-sm text-gray-500">Teléfono</p>
          <p class="text-lg font-medium">
            {{ user.phone_number or 'Sin teléfono' }}
          </p>
        </div>

        <div>
          <p class="text-sm text-gray-500">Empresa</p>
          <p class="text-lg font-medium">{{ user.company or 'Sin empresa' }}</p>
        </div>

        <div>
          <p class="text-sm text-gray-500">Cargo</p>
          <p class="text-lg font-medium">{{ user.job_title or 'Sin cargo' }}</p>
        </div>
      </div>
      {% endif %}
    </div>
 
  </main>
</div>
{% endblock %}
